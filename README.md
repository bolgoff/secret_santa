# üéÖ Secret Santa Telegram Bot

![Python](https://img.shields.io/badge/Python-3.10%2B-blue)
![Aiogram](https://img.shields.io/badge/Aiogram-3.x-blue)
![SQLite3](https://img.shields.io/badge/Database-SQLite3-green)

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä—ã ¬´–¢–∞–π–Ω—ã–π –°–∞–Ω—Ç–∞¬ª (Secret Santa).
–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è –∏–≥—Ä—ã, –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–∫—Ç–æ –∫–æ–º—É –Ω–µ –º–æ–∂–µ—Ç –¥–∞—Ä–∏—Ç—å) –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∂–µ—Ä–µ–±—å–µ–≤–∫—É.

<div id="header" align="center">
  <img src="src/bot_image.png" width="300">
</div>

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã: –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –∑–∞–¥–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, –±—é–¥–∂–µ—Ç, –º–µ—Å—Ç–æ –∏ –≤—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏.
- Deep Linking: –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä—É –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö).
- –ê–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –£–¥–æ–±–Ω—ã–π –ø–æ—à–∞–≥–æ–≤—ã–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö (–∏–º—è, –ø–æ–∂–µ–ª–∞–Ω–∏—è –∫ –ø–æ–¥–∞—Ä–∫—É) —á–µ—Ä–µ–∑ FSM (Finite State Machine).
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏: –°–æ–∑–¥–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–∞—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º—É–∂ –Ω–µ –¥–∞—Ä–∏—Ç –∂–µ–Ω–µ).
- –£–º–Ω–∞—è –∂–µ—Ä–µ–±—å–µ–≤–∫–∞: –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
- –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å: –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–µ–≥–æ –ø–æ–¥–æ–ø–µ—á–Ω–æ–≥–æ (–∫–æ–º—É –æ–Ω –¥–∞—Ä–∏—Ç).
- –ú–æ–∏ –∏–≥—Ä—ã: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä –∏ –∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- –Ø–∑—ã–∫: Python 3.10+
- –§—Ä–µ–π–º–≤–æ—Ä–∫: aiogram 3.x (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π).
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: SQLite3 (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞).
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤).

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
secret_santa_bot/
‚îú‚îÄ‚îÄ bot.py                 # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database/              # –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ core.py            # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü
‚îÇ   ‚îî‚îÄ‚îÄ requests.py        # –ó–∞–ø—Ä–æ—Å—ã –∫ –ë–î
‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ common.py          # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ game_creation.py   # –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ game_joining.py    # –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä—É
‚îÇ   ‚îú‚îÄ‚îÄ game_management.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ draw_logic.py      # –ñ–µ—Ä–µ–±—å–µ–≤–∫–∞ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ keyboards/             # –ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏
‚îú‚îÄ‚îÄ services/              # –ê–ª–≥–æ—Ä–∏—Ç–º –±–æ—Ç–∞
‚îú‚îÄ‚îÄ states/                # –°–æ—Å—Ç–æ—è–Ω–∏—è
‚îî‚îÄ‚îÄ utils/                 # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/bolgoff/secret-santa-bot.git
cd secret-santa-bot
```
2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
Windows:
```bash
python -m venv venv
venv\Scripts\activate
```

macOS / Linux:

```bash
python3 -m venv venv
source venv/bin/activate
```

3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å –º–æ–∂–Ω–æ —É @BotFather):

```bash
BOT_TOKEN=000000000:AAAA...........
```

5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö santa.db –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã.

```bash
python bot.py
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É /start.
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É".
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –±–æ—Ç–∞ (–≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –±—é–¥–∂–µ—Ç, –º–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏).
4. –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ—ë –¥—Ä—É–∑—å—è–º.
   
–í –º–µ–Ω—é –∏–≥—Ä—ã ("–ú–æ–∏ –∏–≥—Ä—ã") –≤—ã –º–æ–∂–µ—Ç–µ:
- –°–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å—Ç—É–ø–∏–≤—à–∏—Ö.
- –î–æ–±–∞–≤–ª—è—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ü—É–ø–∞ –Ω–µ –¥–∞—Ä–∏–ª –õ—É–ø–µ).
- –ù–∞–∂–∞—Ç—å "–ñ–µ—Ä–µ–±—å–µ–≤–∫–∞", –∫–æ–≥–¥–∞ –≤—Å–µ —Å–æ–±–µ—Ä—É—Ç—Å—è --> –ë–æ—Ç —Ä–∞–∑–æ—à–ª–µ—Ç –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–º—è —Ç–æ–≥–æ, –∫–æ–º—É –Ω—É–∂–Ω–æ –¥–∞—Ä–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫ –∏ –µ–≥–æ –ø–æ–∂–µ–ª–∞–Ω–∏–µ.

## ü§ù Contributing

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É PostgreSQL –∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –ø–æ–¥–∞—Ä–∫–æ–≤):

- –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
- –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ–∏—á–∏ (git checkout -b feature/NewFeature).
- –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (git commit -m 'Add some NewFeature').
- –ó–∞–ø—É—à—å—Ç–µ –≤–µ—Ç–∫—É (git push origin feature/NewFeature).
- –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request.
